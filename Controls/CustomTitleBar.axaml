<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"

             x:Class="DemoApp.Controls.CustomTitleBar"
             x:Name="Root">
    <Border Background="{DynamicResource TitleBarBackgroundBrush}">
        <Grid ColumnDefinitions="Auto,*,Auto" Margin="0">
            
            <!-- Left Side: Spacer (Mac) OR Week (Windows) -->
            <StackPanel Grid.Column="0" 
                        Orientation="Horizontal"
                        VerticalAlignment="Stretch"
                        Margin="12,0,0,0">
                
                <!-- Spacer for Native Buttons (Visible only on Mac) -->
                <Border Width="70" IsVisible="{Binding #Root.IsMacOS}" />

                <!-- Week Display (Visible only on Windows/Linux) -->
                <TextBlock Name="TitleTimeLeft"
                           Text="{Binding #Root.TimeText}"
                           VerticalAlignment="Center"
                           FontSize="14"
                           Foreground="{DynamicResource TextPrimaryBrush}"
                           IsVisible="{Binding #Root.IsWindows}"/>
            </StackPanel>

            <!-- Center: Title -->
            <TextBlock Grid.Column="1"
                       Name="TitleTextBlock"
                       Text="{Binding #Root.TitleText}"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       FontWeight="SemiBold"
                       FontSize="14"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       IsHitTestVisible="False"/>

            <!-- Right Side: Week Display (Visible only on Mac) -->
            <StackPanel Grid.Column="2"
                        Orientation="Horizontal"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Right"
                        Margin="0,0,12,0"
                        IsVisible="{Binding #Root.IsMacOS}">
                <TextBlock Name="TitleTimeRight"
                           Text="{Binding #Root.TimeText}"
                           VerticalAlignment="Center"
                           FontSize="14"
                           Foreground="{DynamicResource TextPrimaryBrush}"/>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
